USE [master]

IF db_id('TakeMeHome') IS NULl
  CREATE DATABASE [TakeMeHome]
GO

USE [TakeMeHome]
GO


CREATE TABLE [Home] (
  [Id] integer PRIMARY KEY IDENTITY,
  [Username] nvarchar(255) NOT NULL,
  [Email] nvarchar(255) NOT NULL,
  [Password] nvarchar(255) NOT NULL,
  [ConstructedDate] integer NOT NULL,
  [HomeType] nvarchar(255) NOT NULL
)
GO

CREATE TABLE [Areas] (
  [Id] integer PRIMARY KEY IDENTITY,
  [HomeId] int NOT NULL,
  [Name] nvarchar(255) NOT NULL,
  [Dimensions] integer,
  [PaintColor] nvarchar(255)
)
GO

CREATE TABLE [Inventory] (
  [Id] int PRIMARY KEY IDENTITY,
  [AreaId] int NOT NULL,
  [Name] nvarchar(255),
  [Fixed] bit NOT NULL,
  [Brand] nvarchar(255),
  [Age] integer,
  [Price] integer
)
GO

CREATE TABLE [Task] (
  [Id] integer PRIMARY KEY IDENTITY,
  [InventoryId] integer NOT NULL,
  [Title] nvarchar(255) NOT NULL,
  [Duration] datetime,
  [NumberOfMonths] integer,
  [TaskDate] datetime NOT NULL,
  [Details] nvarchar(255),
  [Cost] integer,
  [Count] integer NOT NULL
)
GO

ALTER TABLE [Areas] ADD FOREIGN KEY ([HomeId]) REFERENCES [Home] ([Id])
GO

ALTER TABLE [Inventory] ADD FOREIGN KEY ([AreaId]) REFERENCES [Areas] ([Id])
GO

ALTER TABLE [Task] ADD FOREIGN KEY ([InventoryId]) REFERENCES [Inventory] ([Id])
GO
